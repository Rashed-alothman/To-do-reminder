{% extends 'base.html' %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<section class="card">
  <header class="card-head">
    <h1 class="title">My Day</h1>
    <p class="subtitle">{{ tasks|length }} tasks remaining</p>
  </header>

  <form class="add-form" method="POST" action="{{ url_for('add_task') }}">
    <input name="title" type="text" placeholder="What needs to be done?" autocomplete="off" required autofocus>
    <button class="btn primary" type="submit">
        <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path d="M12 4v16m8-8H4"></path></svg>
    </button>
  </form>

  {% if tasks %}
    <ul class="todo-list">
      {% for task in tasks %}
      <li class="todo-item">
        <div class="todo-left">
           <div class="check-circle">
             <svg width="14" height="14" fill="none" stroke="currentColor" stroke-width="3" viewBox="0 0 24 24"><path d="M20 6L9 17l-5-5"></path></svg>
           </div>
           <span class="todo-title">{{ task.title }}</span>
        </div>
        
        <form method="POST" action="{{ url_for('delete_task') }}">
          <button class="btn danger" type="submit" title="{{ task.id }}">
             <svg width="18" height="18" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
          </button>
        </form>
      </li>
      {% endfor %}
    </ul>
  {% else %}
    <div class="empty-state">
      <p>No tasks yet. Enjoy your day!</p>
    </div>
  {% endif %}
</section>
{% endblock %}